<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <link rel="stylesheet" src="https://cdn.jsdelivr.net/gh/cotton123236/zoomist@latest/dist/zoomist.min.css" />
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">Drive-Taxi</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a class="nav-link" href="index.html">Progress<span class="sr-only">(current)</span></a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="#">Lections</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Question</a>
                </li>
                <!-- <li class="nav-item">
                    <a class="nav-link disabled" href="#">Disabled</a>
                </li> -->
            </ul>
        </div>
    </nav>


    <div class="container">
        <div class="box">
            <div class="question">
                <img src="/20220226_145545.jpg" alt="" class="image-question question-img">
            </div>
            <div class="answer ">
                <img src="/20220226_145545.jpg" alt="" class="answer image down image-question answer-img">
            </div>

        </div>
    </div>


    <!-- https://via.placeholder.com/200 -->


    <style>
        .container {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            border: 1px solid red;
        }

        .box {
            height: 90vh;
            width: 50vh;
            border: 1px solid yellowgreen;
            display: flex;
            justify-content: space-between;
            flex-direction: column;
        }

        .question {
            width: 100%;
            height: 48%;
            border: 1px solid yellowgreen;
        }

        .answer {
            width: 100%;
            height: 48%;
            border: 1px solid yellowgreen;
        }

        .image-question {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .image.down {
            filter: blur(5px);
        }

        .image.down.active {
            filter: none;
        }
    </style>


    <!-- login check -->
    <script src="login_check.js" type="module"></script>


    <!-- bootrap -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>


    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>



    <script>
        const downImage = document.querySelector('.image.down');

        downImage.addEventListener('click', function () {
            downImage.classList.toggle('active');
        });

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyAMKzU7_2yHCM028kWmovUBOxn-qGYxktY",
            authDomain: "taxi-company-e1a23.firebaseapp.com",
            databaseURL: "https://taxi-company-e1a23-default-rtdb.firebaseio.com",
            projectId: "taxi-company-e1a23",
            storageBucket: "taxi-company-e1a23.appspot.com",
            messagingSenderId: "835882517766",
            appId: "1:835882517766:web:206757f55e5ecf3f0bca87",
            measurementId: "G-0KF8YNXQDJ"
        };


        firebase.initializeApp(firebaseConfig);




        // Retrieve the lectionId and questionId from the URL parameters
        var urlParams = new URLSearchParams(window.location.search);


        var lectionId = urlParams.get('id');
        var questionId = urlParams.get('question');

        function lectionNumber(str) {
            // Remove all non-digit characters from the string using a regular expression
            var number = str.replace(/\D/g, '');

            // Convert the extracted string of digits to a number
            number = parseInt(number);

            // Return the extracted number
            return number;
        }

        lectionId = lectionNumber(lectionId);
        questionId = lectionNumber(questionId);


        // Print the retrieved values to the console (you can replace this with your desired logic)
        console.log('Lection ID:', lectionId);
        console.log('Question ID:', questionId);

        // Rest of your code...

        // Get the Firebase Storage reference for your images
        var storageRef = firebase.storage().ref();


        // Construct the path to the image based on lectionId and questionId
        // var questionPath = 'lections/' + lectionId + '/questions/' + questionId + '.jpg'; // Assuming the images are in JPEG format

        var questionPath = 'Questions/Question lection ' + lectionId + '/Question lection ' + lectionId + ' (' + questionId + ').jpg';; // Assuming the images are in JPEG format
        var answerPath = 'Answers/Answer lection ' + lectionId + '/Answer lection ' + lectionId + ' (' + questionId + ').jpg';; // Assuming the images are in JPEG format


        // Get the image URL from Firebase Storage
        storageRef.child(questionPath).getDownloadURL()
            .then(function (url) {
                // Set the retrieved URL as the src attribute of the answer image
                var answerImage = document.querySelector('.question-img');
                answerImage.src = url;
            })
            .catch(function (error) {
                console.log('Error getting image URL:', error);
            });

        // Get the image URL from Firebase Storage
        storageRef.child(answerPath).getDownloadURL()
            .then(function (url) {
                // Set the retrieved URL as the src attribute of the answer image
                var answerImage = document.querySelector('.answer-img');
                answerImage.src = url;
            })
            .catch(function (error) {
                console.log('Error getting image URL:', error);
            });




    </script>

</body>

</html>